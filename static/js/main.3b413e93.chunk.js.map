{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/Button/Button.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Modal/Modal.js","Components/Loader/Loader.js","Components/Button/Button.js","Components/ImageGallery/ImageGallery.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","search","handleChangeSearch","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","fromSubmit","toast","error","position","autoClose","className","s","SearchForm","onSubmit","this","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","name","placeholder","Component","ImageGalleryItem","webformatURL","largeImageURL","clickOnImageItem","onClick","src","url","alt","ImageGalleryItemImage","modalRoot","document","querySelector","Modal","handleKeydown","code","onCloseModal","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","backdrop","modal","children","Loaded","style","textAlign","color","height","width","Button","btnLoad","container","button","ImageGallery","status","page","showModal","imageModal","apiFetch","fetch","handleChangePage","currentSearch","nextPage","then","response","json","data","hits","openModal","closeModal","prevProps","prevState","prevSearh","ok","Promise","reject","Error","catch","map","el","index","id","App","handleFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3b413e93.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__pcVur\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3ikGl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__2drfb\",\"modal\":\"Modal_modal__1cCNy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Button_container__AxMkM\",\"button\":\"Button_button__2YzLd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__Sr52W\"};","import React, { Component } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    search: \"\",\r\n  };\r\n\r\n  handleChangeSearch = (e) => {\r\n    this.setState({ search: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.search.trim() === \"\") {\r\n      toast.error(\" Введите параметры поиска\", {\r\n        position: \"top-right\",\r\n        autoClose: 3000,\r\n      });\r\n      return;\r\n    }\r\n    this.props.fromSubmit(this.state.search);\r\n    this.setState({ search: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.handleChangeSearch}\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            name=\"search\"\r\n            value={this.state.search}\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nexport default function ImageGalleryItem({\r\n  webformatURL,\r\n  largeImageURL,\r\n  clickOnImageItem,\r\n}) {\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <div onClick={() => clickOnImageItem(largeImageURL)}>\r\n        <img\r\n          src={webformatURL}\r\n          url={largeImageURL}\r\n          alt=\"\"\r\n          className={s.ImageGalleryItemImage}\r\n        />\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeydown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeydown);\r\n  }\r\n\r\n  handleKeydown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.backdrop} onClick={this.handleBackdropClick}>\r\n        <div className={s.modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n","// import { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nexport default function Loaded() {\r\n  return (\r\n    <div>\r\n      <Loader\r\n        style={{ textAlign: \"center\" }}\r\n        type=\"ThreeDots\"\r\n        color=\"#6464fa\"\r\n        height={100}\r\n        width={100}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import s from \"./Button.module.css\";\r\n\r\nexport default function Button({ btnLoad }) {\r\n  return (\r\n    <div className={s.container}>\r\n      <button type=\"button\" className={s.button} onClick={btnLoad}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport Modal from \"../Modal\";\r\nimport Loaded from \"../Loader\";\r\nimport Button from \"../Button\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    search: null,\r\n    error: null,\r\n    status: \"idle\",\r\n    page: 1,\r\n    showModal: false,\r\n    imageModal: \"\",\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { page } = this.state;\r\n    const prevSearh = prevProps.search;\r\n    const currentSearch = this.props.search;\r\n\r\n    if (prevSearh !== currentSearch) {\r\n      this.setState({ status: \"pending\", page: 1 });\r\n\r\n      this.apiFetch(currentSearch, page)\r\n        .then((response) => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          }\r\n\r\n          return Promise.reject(\r\n            new Error(`По запросу ${currentSearch}ничего не найдено`)\r\n          );\r\n        })\r\n        .then((data) =>\r\n          this.setState({\r\n            search: data.hits,\r\n            status: \"resolved\",\r\n          })\r\n        )\r\n        .catch((error) => this.setState({ error, status: \"rejected\" }));\r\n    }\r\n  }\r\n\r\n  apiFetch = (search, page) => {\r\n    return fetch(\r\n      `https://pixabay.com/api/?key=8315600-a916a243d8ea2edafddc43bfd&q=${search}&image_type=photo&orientation=horizontal&page=${page}&per_page=12`\r\n    );\r\n  };\r\n\r\n  handleChangePage = () => {\r\n    const { page } = this.state;\r\n    const currentSearch = this.props.search;\r\n    const nextPage = page + 1;\r\n\r\n    this.setState(({ page }) => ({\r\n      page: page + 1,\r\n    }));\r\n\r\n    this.apiFetch(currentSearch, nextPage)\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then((data) =>\r\n        this.setState(({ search }) => ({\r\n          search: [...search, ...data.hits],\r\n        }))\r\n      );\r\n  };\r\n\r\n  openModal = (largeImageURL) => {\r\n    this.setState({\r\n      showModal: true,\r\n      imageModal: largeImageURL,\r\n    });\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({\r\n      showModal: false,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { search, error, status, showModal } = this.state;\r\n\r\n    if (status === \"idle\") {\r\n      return <h2 style={{ textAlign: \"center\" }}>Введите параметы поиска</h2>;\r\n    }\r\n\r\n    if (status === \"pending\") {\r\n      return <Loaded />;\r\n    }\r\n\r\n    if (status === \"rejected\") {\r\n      return <h2>{error}</h2>;\r\n    }\r\n\r\n    if (status === \"resolved\") {\r\n      return (\r\n        <>\r\n          <ul className={s.ImageGallery}>\r\n            {search.map((el, index) => (\r\n              <ImageGalleryItem\r\n                key={el.id}\r\n                webformatURL={el.webformatURL}\r\n                largeImageURL={el.largeImageURL}\r\n                clickOnImageItem={this.openModal}\r\n              />\r\n            ))}\r\n          </ul>\r\n          {showModal && (\r\n            <Modal onCloseModal={this.closeModal}>\r\n              {<img src={this.state.imageModal} alt=\"\" />}\r\n            </Modal>\r\n          )}\r\n          <Button btnLoad={this.handleChangePage} />\r\n        </>\r\n      );\r\n    }\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Searchbar from \"./Components/Searchbar\";\nimport ImageGallery from \"./Components/ImageGallery\";\n\nexport default class App extends Component {\n  state = {\n    search: \"\",\n  };\n\n  handleFormSubmit = (search) => {\n    this.setState({ search });\n  };\n\n  render() {\n    return (\n      <div>\n        <Searchbar fromSubmit={this.handleFormSubmit} />\n\n        <ImageGallery search={this.state.search} />\n\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__28c1y\",\"SearchForm\":\"Searchbar_SearchForm__3n3SU\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3dAFw\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1hCbk\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3x-zx\"};"],"sourceRoot":""}